(this.webpackJsonpshopping_app_cra=this.webpackJsonpshopping_app_cra||[]).push([[0],{25:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(17),i=c.n(s),a=(c(25),c(3)),j=c(2),o=c(4),d=c(7),l=c(20),u=c(0),h=Object(r.createContext)();function b(e){var t=Object(r.useState)((function(){var e=[];try{e=JSON.parse(localStorage.getItem("products"))||[]}catch(t){e=[]}return e})),c=Object(o.a)(t,2),n=c[0],s=c[1];var i={cart:n,onProductAdd:function(e){var t=n.find((function(t){return t.id===e.id}));s(t?n.map((function(t){return t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{quantity:t.quantity+1}):t})):[].concat(Object(l.a)(n),[Object(d.a)(Object(d.a)({},e),{},{quantity:1})]))},onProductDelete:function(e){s(n.filter((function(t){return t.id!==e})))},getCartCount:function(){return n.reduce((function(e,t){return e+t.quantity}),0)},emptyCart:function(){s([])},getTotalPrice:function(){return n.reduce((function(e,t){return e+t.price*t.quantity}),0)},getProductFromCart:function(e){return n.find((function(t){return t.id===e.id}))}};return Object(u.jsx)(h.Provider,{value:i,children:e.children})}var O=c(12),x=c(11),p=["children","outline","className"];function m(e){var t=e.children,c=e.outline,r=e.className,n=Object(O.a)(e,p),s=Object(x.a)({btn:!0,"btn-default":!c,"btn-outline":c},r);return Object(u.jsx)("button",Object(d.a)(Object(d.a)({className:s},n),{},{children:t}))}function f(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=(0,Object(r.useContext)(h).getCartCount)();return Object(r.useEffect)((function(){c?document.body.classList.add("dark"):document.body.classList.remove("dark")}),[c]),Object(r.useEffect)((function(){window.matchMedia("(prefers-color-scheme: dark)").matches&&n(!0)}),[]),Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsx)(a.b,{to:"/",className:"nav-brand",children:"SuperM"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(m,{className:"theme-switcher",onClick:function(){n((function(e){return!e}))},children:c?"Dark":"Light"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(a.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(a.b,{exact:!0,activeClassName:"active",to:"/about",children:"About us"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(a.b,{activeClassName:"active",to:"/products",children:"Products"})}),Object(u.jsx)("li",{children:Object(u.jsxs)(a.b,{to:"/cart",className:"nav-item nav-cart btn btn-accent",children:["Cart (",s,")"]})})]})]})}function g(){return Object(u.jsxs)("div",{className:"home-layout",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Online shopping simplified"}),Object(u.jsxs)("p",{children:["Order your groceries from ",Object(u.jsx)("em",{children:"SuperM"})," with our easy to use app, and get your products delivered straight to your doorstep."]}),Object(u.jsx)(a.b,{to:"/products",className:"btn btn-default",children:"Start shopping"})]}),Object(u.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_700/v1607770215/react-tutorial/supermarket/home.jpg",width:"350",height:"240",className:"rounded home-image",alt:""})]})}function v(){return Object(u.jsxs)("div",{className:"about-layout",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"About Us"}),Object(u.jsxs)("p",{children:["We started operations in 2020. We guarantee fresh produce.",Object(u.jsx)("br",{}),"Save time by shopping on our app and we'll deliver the products right to your home. ",Object(u.jsx)("br",{}),Object(u.jsx)("em",{children:"We use Stripe to process your payment."})]})]}),Object(u.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_550/v1607770215/react-tutorial/supermarket/about.jpg",height:"275",width:"183",className:"rounded",alt:""})]})}function y(e){var t=Object(r.useState)(!0),c=Object(o.a)(t,2),n=c[0],s=c[1];return{get:function(t){return new Promise((function(c,r){fetch(e+t).then((function(e){return e.json()})).then((function(e){if(!e)return s(!1),r(e);s(!1),c(e)})).catch((function(e){s(!1),r(e)}))}))},post:function(t,c){return new Promise((function(r,n){fetch(e+t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){if(!e)return s(!1),n(e);s(!1),r(e)})).catch((function(e){s(!1),n(e)}))}))},loading:n}}function N(e){var t=e.product,c=Object(r.useContext)(h),n=c.onProductAdd,s=c.onProductDelete,i=(0,c.getProductFromCart)(t),j=i?i.quantity:0;return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsxs)("div",{className:"product-image-container",children:[Object(u.jsx)(a.b,{to:"products/".concat(t.id),children:Object(u.jsx)("img",{src:t.image,width:"100",height:"100",className:"product-image",alt:"product name here"})}),Object(u.jsx)("div",{className:"product-quantity-container",children:0!==j&&Object(u.jsx)("div",{className:"product-quantity",children:j})})]}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)("h3",{children:t.name}),Object(u.jsx)("p",{children:t.description})]}),Object(u.jsxs)("div",{className:"product-checkout",children:[Object(u.jsx)("div",{children:0!==j&&Object(u.jsx)(m,{className:"product-delete",outline:!0,onClick:function(){return s(t.id)},children:"x"})}),Object(u.jsxs)(m,{outline:!0,onClick:function(){return n(t)},children:["$",t.price]})]})]})}function w(){return Object(u.jsx)("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})})}function C(e){var t=Object(r.useState)([]),c=Object(o.a)(t,2),n=c[0],s=c[1],i=y("https://react-tutorial-demo.firebaseio.com/"),a=i.get,j=i.loading,d=e.cart,l=e.onProductAdd,h=e.onProductDelete;return Object(r.useEffect)((function(){a("supermarket.json").then((function(e){return s(e)})).catch((function(e){return console.error(e)}))}),[]),Object(u.jsxs)("div",{className:"products-layout",children:[Object(u.jsx)("h1",{children:"Products"}),Object(u.jsx)("p",{children:"Take a look at our products"}),j&&Object(u.jsx)(w,{}),Object(u.jsx)("div",{className:"products-grid",children:n.map((function(e){return Object(u.jsx)(N,{product:e,cart:d,onProductAdd:l,onProductDelete:h},e.id)}))})]})}var S=["placeholder","type","className","required"];function P(e){var t=e.placeholder,c=e.type,r=void 0===c?"text":c,n=e.className,s=e.required,i=Object(O.a)(e,S),a=Object(x.a)({input:!0},n);return Object(u.jsxs)("label",{className:"label",children:[t,s&&Object(u.jsx)("span",{className:"input-required",children:"*"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",Object(d.a)({className:a,type:r,placeholder:t,required:s},i))})]})}function k(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),a=i[0],j=i[1],d=Object(r.useState)(0),l=Object(o.a)(d,2),b=l[0],O=l[1],x=Object(r.useContext)(h),p=x.cart,f=x.emptyCart,g=(0,x.getTotalPrice)();return Object(r.useEffect)((function(){if(a){if(b>0){var e=setTimeout((function(){O((function(e){return e-1}))}),1e3);return function(){clearTimeout(e)}}j(!1)}}),[b]),Object(u.jsxs)("div",{className:"cart-layout",children:[!a&&Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Your Cart"}),0===p.length&&Object(u.jsx)("p",{children:"You have not added any product to your cart yet."})]}),p.length>0&&Object(u.jsxs)("table",{className:"table table-cart",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{width:"25%",className:"th-product",children:"Product"}),Object(u.jsx)("th",{width:"20%",children:"Unit price"}),Object(u.jsx)("th",{width:"10%",children:"Quanity"}),Object(u.jsx)("th",{width:"25%",children:"Total"})]})}),Object(u.jsx)("tbody",{children:p.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("img",{src:e.image,width:"30",height:"30",alt:""}),e.name]}),Object(u.jsxs)("td",{children:["$",e.price]}),Object(u.jsx)("td",{children:e.quantity}),Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{children:["$",e.price*e.quantity]})})]},e.id)}))}),Object(u.jsx)("tfoot",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{colSpan:"2"}),Object(u.jsx)("th",{className:"cart-highlight",children:"Total"}),Object(u.jsxs)("th",{className:"cart-highlight",children:["$",g]})]})})]}),p.length>0&&Object(u.jsxs)("form",{className:"pay-form",onSubmit:function(e){e.preventDefault(),f(),n(""),j(!0),O(10)},children:[Object(u.jsx)("p",{children:"Enter your email and then click on pay and your products will be delivered to you on the same day!"}),Object(u.jsx)(P,{placeholder:"Email",type:"email",value:c,required:!0,onChange:function(e){return n(e.target.value)}}),Object(u.jsx)(m,{type:"submit",children:"Pay"})]}),b>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"p-paid",children:"Thank you for shopping in our store! Your payment has been accepted. We have sent you an email with the details of your order."}),Object(u.jsxs)("p",{className:"p-warning",children:["This message will disappear in ",b," sec(s)..."]})]})]})}function q(e){var t=e.product,c=e.onProductAdd;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:[t.description," sold at ",Object(u.jsxs)("strong",{children:["$",t.price]})," per piece."]}),Object(u.jsxs)(m,{onClick:function(){return c(t)},children:["$",t.price]})]})}function T(e){var t=e.nutrition;return Object(u.jsxs)("table",{className:"table table-nutrition",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nutrient"}),Object(u.jsx)("th",{children:"Value"})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Protein"}),Object(u.jsxs)("td",{children:[t.protein,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Carbohydrates"}),Object(u.jsxs)("td",{children:[t.carbs,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Fat"}),Object(u.jsxs)("td",{children:[t.fat,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Salt"}),Object(u.jsxs)("td",{children:[t.salt,"g"]})]})]})]})}function E(e){var t=e.storage;return Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Storage instructions:"})," ",t]})}function _(){var e=Object(r.useState)(),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(j.f)(),i=Object(j.g)(),d=y("https://react-tutorial-demo.firebaseio.com/").get;return Object(r.useEffect)((function(){d("productinfo/id".concat(s.id,".json")).then((function(e){return n(e)})).catch((function(e){return console.error(e)}))}),[]),c?Object(u.jsxs)("div",{className:"product-details-layout",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:c.name}),Object(u.jsx)("img",{src:c.image,width:"125",height:"125",className:"product-details-image",alt:"product name here"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"tabs",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{exact:!0,activeClassName:"tab-active",to:i.url,children:"Details"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{exact:!0,activeClassName:"tab-active",to:"".concat(i.url,"/nutrition"),children:"Nutrition"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{exact:!0,activeClassName:"tab-active",to:"".concat(i.url,"/storage"),children:"Storage"})})]})}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:i.path,children:Object(u.jsx)(q,{product:c})}),Object(u.jsx)(j.a,{exact:!0,path:"".concat(i.path,"/nutrition"),children:Object(u.jsx)(T,{nutrition:c.nutrition})}),Object(u.jsx)(j.a,{exact:!0,path:"".concat(i.path,"/storage"),children:Object(u.jsx)(E,{storage:c.storage})})]})]})]}):null}function A(){var e=Object(r.useContext)(h).cart;return Object(r.useEffect)((function(){e&&localStorage.setItem("products",JSON.stringify(e))}),[e]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(a.a,{children:[Object(u.jsx)(f,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/",children:Object(u.jsx)(g,{})}),Object(u.jsx)(j.a,{exact:!0,path:"/about",children:Object(u.jsx)(v,{})}),Object(u.jsx)(j.a,{exact:!0,path:"/products",children:Object(u.jsx)(C,{})}),Object(u.jsx)(j.a,{exact:!0,path:"/cart",children:Object(u.jsx)(k,{cart:e})}),Object(u.jsx)(j.a,{path:"/products/:id",children:Object(u.jsx)(_,{})})]})})]})})}var D=function(){return Object(u.jsx)(b,{children:Object(u.jsx)(A,{})})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(D,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.f139e7b4.chunk.js.map